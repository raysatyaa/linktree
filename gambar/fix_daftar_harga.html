<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Gadget Service</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: #0a0e27;
            color: white;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        /* Animated Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(45deg, #0a0e27, #1a1f4d, #2a1f5f);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        .floating-shapes {
            position: fixed;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
        }

        .shape {
            position: absolute;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.1));
            border-radius: 50%;
            animation: float 20s infinite ease-in-out;
        }

        .shape:nth-child(1) {
            width: 300px;
            height: 300px;
            top: -100px;
            left: -100px;
            animation-delay: 0s;
        }

        .shape:nth-child(2) {
            width: 200px;
            height: 200px;
            top: 50%;
            right: -50px;
            animation-delay: 5s;
        }

        .shape:nth-child(3) {
            width: 400px;
            height: 400px;
            bottom: -150px;
            left: 30%;
            animation-delay: 10s;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(50px, -50px) rotate(90deg); }
            50% { transform: translate(0, -100px) rotate(180deg); }
            75% { transform: translate(-50px, -50px) rotate(270deg); }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 60px;
            animation: fadeInDown 1s ease;
        }

        .header h1 {
            font-size: 4em;
            font-weight: 800;
            background: linear-gradient(135deg, #6366f1, #a855f7, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            animation: glow 2s ease-in-out infinite;
        }

        .header p {
            font-size: 1.3em;
            color: rgba(255,255,255,0.7);
            font-weight: 300;
        }

        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 20px rgba(99, 102, 241, 0.5)); }
            50% { filter: drop-shadow(0 0 40px rgba(168, 85, 247, 0.8)); }
        }

        /* Step Indicator */
        .steps {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 50px;
            animation: fadeIn 1s ease 0.3s both;
        }

        .step {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 30px;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 50px;
            backdrop-filter: blur(10px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .step.active {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.3), rgba(168, 85, 247, 0.3));
            border-color: #6366f1;
            transform: scale(1.05);
            box-shadow: 0 10px 40px rgba(99, 102, 241, 0.4);
        }

        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #6366f1, #a855f7);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2em;
        }

        .step.active .step-number {
            animation: pulse 1.5s ease infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.7); }
            50% { transform: scale(1.1); box-shadow: 0 0 0 10px rgba(99, 102, 241, 0); }
        }

        /* Selection Cards */
        .selection-container {
            margin-bottom: 40px;
            animation: fadeInUp 1s ease 0.5s both;
        }

        .selection-title {
            font-size: 2em;
            font-weight: 700;
            margin-bottom: 30px;
            text-align: center;
            background: linear-gradient(135deg, #6366f1, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .card {
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 40px 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }

        .card:hover::before {
            left: 100%;
        }

        .card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: #6366f1;
            box-shadow: 0 20px 60px rgba(99, 102, 241, 0.4);
            background: rgba(255,255,255,0.08);
        }

        .card.selected {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(168, 85, 247, 0.2));
            border-color: #6366f1;
            transform: scale(1.05);
            box-shadow: 0 20px 60px rgba(99, 102, 241, 0.6);
        }

        .card-icon {
            font-size: 4em;
            margin-bottom: 20px;
            display: block;
            filter: drop-shadow(0 0 20px currentColor);
            animation: iconFloat 3s ease-in-out infinite;
        }

        @keyframes iconFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .card-title {
            font-size: 1.5em;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .card-desc {
            color: rgba(255,255,255,0.6);
            font-size: 0.9em;
        }

        /* Price Table */
        .table-section {
            display: none;
            animation: fadeInUp 0.8s ease;
        }

        .table-section.active {
            display: block;
        }

        .table-container {
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(20px);
            overflow: hidden;
        }

        .table-wrapper {
            overflow-x: auto;
            max-height: 600px;
            overflow-y: auto;
        }

        .table-wrapper::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        .table-wrapper::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
        }

        .table-wrapper::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #6366f1, #a855f7);
            border-radius: 10px;
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 10px;
        }

        thead tr {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.3), rgba(168, 85, 247, 0.3));
        }

        th {
            padding: 20px;
            text-align: left;
            font-weight: 600;
            font-size: 1.1em;
            border: none;
        }

        th:first-child {
            border-radius: 15px 0 0 15px;
        }

        th:last-child {
            border-radius: 0 15px 15px 0;
        }

        tbody tr {
            background: rgba(255,255,255,0.03);
            transition: all 0.3s ease;
            animation: slideInLeft 0.5s ease;
            pointer-events: auto;
        }

        tbody tr:hover {
            background: rgba(255,255,255,0.08);
            transform: translateX(10px) scale(1.02);
            box-shadow: 0 5px 30px rgba(99, 102, 241, 0.3);
        }

        tbody tr:hover .price-input {
            transform: none;
        }

        td {
            padding: 20px;
            border: none;
            position: relative;
        }

        td.price-cell {
            pointer-events: auto;
        }

        tr td:first-child {
            border-radius: 15px 0 0 15px;
        }

        tr td:last-child {
            border-radius: 0 15px 15px 0;
        }

        .model-name {
            font-weight: 600;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .model-icon {
            font-size: 1.5em;
        }

        .price-input {
            background: rgba(255,255,255,0.08);
            border: 2px solid rgba(255,255,255,0.15);
            color: white;
            padding: 12px 20px;
            border-radius: 12px;
            font-size: 1em;
            width: 150px;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            cursor: default;
            user-select: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            text-align: center;
            font-weight: 600;
        }

        .price-input:read-only {
            background: rgba(255,255,255,0.08);
            border-color: rgba(255,255,255,0.15);
            cursor: default;
        }

        .price-input:read-only:focus {
            outline: none;
            border-color: rgba(255,255,255,0.15);
            background: rgba(255,255,255,0.08);
            box-shadow: none;
        }

        .wa-btn {
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1em;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 5px 20px rgba(37, 211, 102, 0.3);
        }

        .wa-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 40px rgba(37, 211, 102, 0.5);
        }

        .wa-btn:active {
            transform: translateY(-1px) scale(1);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
            overflow-y: auto;
        }

        .modal-content {
            position: relative;
            max-width: 600px;
            margin: 50px auto;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(168, 85, 247, 0.1));
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 30px;
            padding: 50px;
            backdrop-filter: blur(20px);
            animation: modalSlideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 30px 80px rgba(0,0,0,0.5);
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .modal-header h2 {
            font-size: 2.5em;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.1);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5em;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: rotate(90deg);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            font-size: 1.1em;
            color: rgba(255,255,255,0.9);
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 15px 20px;
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 15px;
            color: white;
            font-size: 1em;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #6366f1;
            background: rgba(255,255,255,0.15);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.2);
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .submit-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #25D366, #128C7E);
            border: none;
            border-radius: 15px;
            color: white;
            font-size: 1.2em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 30px rgba(37, 211, 102, 0.4);
            margin-top: 20px;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(37, 211, 102, 0.6);
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 2.5em; }
            .cards-grid { grid-template-columns: 1fr; }
            .steps { flex-wrap: wrap; }
            .modal-content { padding: 30px; margin: 20px; }
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>
    <div class="floating-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>

    <div class="container">
        <div class="header">
            <h1>‚ö° Premium Gadget Service</h1>
            <p>Solusi Service Terpercaya dengan Teknologi Modern</p>
        </div>

        <div class="steps">
            <div class="step active" id="step1">
                <div class="step-number">1</div>
                <span>Pilih Gadget</span>
            </div>
            <div class="step" id="step2">
                <div class="step-number">2</div>
                <span>Pilih Sparepart</span>
            </div>
            <div class="step" id="step3">
                <div class="step-number">3</div>
                <span>Lihat Harga</span>
            </div>
        </div>

        <!-- Step 1: Pilih Type Gadget -->
        <div class="selection-container" id="gadgetSelection">
            <h2 class="selection-title">Pilih Type Gadget Anda</h2>
            <div class="cards-grid" id="gadgetCards">
                <div class="card" data-gadget="iphone">
                    <span class="card-icon">üì±</span>
                    <div class="card-title">iPhone</div>
                    <div class="card-desc">Semua seri iPhone</div>
                </div>
                <div class="card" data-gadget="android">
                    <span class="card-icon">ü§ñ</span>
                    <div class="card-title">Android</div>
                    <div class="card-desc">Samsung, Xiaomi, dll</div>
                </div>
                <div class="card" data-gadget="laptop">
                    <span class="card-icon">üíª</span>
                    <div class="card-title">Laptop</div>
                    <div class="card-desc">Windows & MacBook</div>
                </div>
                <div class="card" data-gadget="pc">
                    <span class="card-icon">üñ•Ô∏è</span>
                    <div class="card-title">PC Desktop</div>
                    <div class="card-desc">All in One & Tower</div>
                </div>
            </div>
        </div>

        <!-- Step 2: Pilih Sparepart -->
        <div class="selection-container" id="sparepartSelection" style="display: none;">
            <h2 class="selection-title">Pilih Jenis Sparepart</h2>
            <div class="cards-grid" id="sparepartCards">
            </div>
        </div>

        <!-- Step 3: Tabel Harga -->
        <div class="table-section" id="priceTable">
            <h2 class="selection-title">Daftar Harga Service</h2>
            <div class="table-container">
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Model</th>
                                <th>Harga (Rp)</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="priceTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Form -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal()">√ó</button>
            <div class="modal-header">
                <h2>üìù Form Pemesanan</h2>
                <p style="color: rgba(255,255,255,0.7);">Isi data Anda untuk melanjutkan</p>
            </div>
            <form id="orderForm">
                <div class="form-group">
                    <label>üë§ Nama:</label>
                    <input type="text" id="nama" required placeholder="Masukkan nama Anda">
                </div>
                <div class="form-group">
                    <label>üìç Alamat:</label>
                    <textarea id="alamat" required placeholder="Masukkan alamat lengkap"></textarea>
                </div>
                <div class="form-group">
                    <label>üì± Tipe Gadget:</label>
                    <input type="text" id="tipeGadget" readonly>
                </div>
                <div class="form-group">
                    <label>üîß Kendala:</label>
                    <input type="text" id="kendala" readonly>
                </div>
                <div class="form-group">
                    <label>üí∞ Biaya:</label>
                    <input type="text" id="biaya" readonly>
                </div>
                <button type="submit" class="submit-btn">
                    üí¨ Kirim ke WhatsApp
                </button>
            </form>
        </div>
    </div>

    <script>
        let currentGadget = '';
        let currentSparepart = '';
        
        // Database Harga
        const priceDatabase = {
            iphone: {
                lcd: {
                    '6': 200, '6+': 230, '6s': 220, '6s+': 250,
                    '7': 250, '7+': 300, '8': 280, '8+': 320,
                    'X': 450, 'XR': 400, 'XS': 450, 'XS Max': 500,
                    '11': 450, '11 Pro': 520, '11 Pro Max': 550,
                    '12 Mini': 650, '12': 500, '12 Pro': 500, '12 Pro Max': 700,
                    '13': 600, '13 Mini': 850, '13 Pro': 750, '13 Pro Max': 850,
                    '14': 700, '14 Plus': 750, '14 Pro': 850, '14 Pro Max': 950,
                    '15': 800, '15 Plus': 950, '15 Pro': 1050, '15 Pro Max': 1150
                },
                baterai: {
                    '6': 100, '6+': 120, '6s': 120, '6s+': 120,
                    '7': 120, '7+': 130, '8': 120, '8+': 140,
                    'X': 200, 'XR': 225, 'XS': 225, 'XS Max': 240,
                    '11': 250, '11 Pro': 260, '11 Pro Max': 275,
                    '12 Mini': 280, '12': 300, '12 Pro': 300, '12 Pro Max': 320,
                    '13': 360, '13 Mini': 320, '13 Pro': 380, '13 Pro Max': 400,
                    '14': 320, '14 Plus': 350, '14 Pro': 380, '14 Pro Max': 400,
                    '15': 500, '15 Plus': 600, '15 Pro': 650, '15 Pro Max': 700
                },
                'kamera-depan': {
                    '6': 50, '6+': 50, '6s': 50, '6s+': 100,
                    '7': 130, '7+': 140, '8': 145, '8+': 160,
                    'X': 150, 'XR': 150, 'XS': 170, 'XS Max': 230,
                    '11': 240, '11 Pro': 250, '11 Pro Max': 250,
                    '12 Mini': 170, '12': 190, '12 Pro': 200, '12 Pro Max': 200,
                    '13': 220, '13 Mini': 220, '13 Pro': 230, '13 Pro Max': 230,
                    '14': 550, '14 Plus': 550, '14 Pro': 550, '14 Pro Max': 550,
                    '15': 750, '15 Plus': 750, '15 Pro': 750, '15 Pro Max': 850
                },
                'kamera-belakang': {
                    '6': 100, '6+': 100, '6s': 150, '6s+': 150,
                    '7': 150, '7+': 300, '8': 230, '8+': 350,
                    'X': 350, 'XR': 350, 'XS': 350, 'XS Max': 450,
                    '11': 420, '11 Pro': 550, '11 Pro Max': 550,
                    '12 Mini': 500, '12': 480, '12 Pro': 950, '12 Pro Max': 850,
                    '13': 490, '13 Mini': 490, '13 Pro': 1000, '13 Pro Max': 1000,
                    '14': 700, '14 Plus': 850, '14 Pro': 1050, '14 Pro Max': 1050,
                    '15': 700, '15 Plus': 850, '15 Pro': 1100, '15 Pro Max': 1200
                }
            },
            android: {
                lcd: {
                    'Samsung S21': 450, 'Samsung S22': 500, 'Samsung S23': 600, 'Samsung S24': 700,
                    'Xiaomi 11': 350, 'Xiaomi 12': 400, 'Xiaomi 13': 450, 'Xiaomi 14': 500,
                    'Oppo Reno 8': 350, 'Oppo Reno 9': 400, 'Oppo Reno 10': 450,
                    'Vivo V25': 350, 'Vivo V27': 400, 'Vivo V29': 450
                },
                baterai: {
                    'Samsung S21': 200, 'Samsung S22': 220, 'Samsung S23': 250, 'Samsung S24': 280,
                    'Xiaomi 11': 150, 'Xiaomi 12': 170, 'Xiaomi 13': 190, 'Xiaomi 14': 210,
                    'Oppo Reno 8': 150, 'Oppo Reno 9': 170, 'Oppo Reno 10': 190,
                    'Vivo V25': 150, 'Vivo V27': 170, 'Vivo V29': 190
                },
                'kamera-depan': {
                    'Samsung S21': 180, 'Samsung S22': 200, 'Samsung S23': 220, 'Samsung S24': 250,
                    'Xiaomi 11': 120, 'Xiaomi 12': 140, 'Xiaomi 13': 160, 'Xiaomi 14': 180,
                    'Oppo Reno 8': 120, 'Oppo Reno 9': 140, 'Oppo Reno 10': 160,
                    'Vivo V25': 120, 'Vivo V27': 140, 'Vivo V29': 160
                },
                'kamera-belakang': {
                    'Samsung S21': 350, 'Samsung S22': 400, 'Samsung S23': 450, 'Samsung S24': 500,
                    'Xiaomi 11': 250, 'Xiaomi 12': 300, 'Xiaomi 13': 350, 'Xiaomi 14': 400,
                    'Oppo Reno 8': 250, 'Oppo Reno 9': 300, 'Oppo Reno 10': 350,
                    'Vivo V25': 250, 'Vivo V27': 300, 'Vivo V29': 350
                }
            },
            laptop: {
                lcd: {
                    'MacBook Air M1': 2500, 'MacBook Air M2': 2800, 'MacBook Pro 13"': 3000, 'MacBook Pro 14"': 3500, 'MacBook Pro 16"': 4000,
                    'Asus VivoBook': 1200, 'Asus ROG': 2000, 'Asus TUF': 1800,
                    'Lenovo IdeaPad': 1000, 'Lenovo ThinkPad': 1500, 'Lenovo Legion': 2000,
                    'HP Pavilion': 1100, 'HP Envy': 1500, 'HP Omen': 1800,
                    'Dell Inspiron': 1200, 'Dell XPS': 2000, 'Dell Alienware': 2500
                },
                baterai: {
                    'MacBook Air M1': 1200, 'MacBook Air M2': 1400, 'MacBook Pro 13"': 1500, 'MacBook Pro 14"': 1700, 'MacBook Pro 16"': 2000,
                    'Asus VivoBook': 600, 'Asus ROG': 900, 'Asus TUF': 800,
                    'Lenovo IdeaPad': 500, 'Lenovo ThinkPad': 700, 'Lenovo Legion': 900,
                    'HP Pavilion': 550, 'HP Envy': 750, 'HP Omen': 850,
                    'Dell Inspiron': 600, 'Dell XPS': 900, 'Dell Alienware': 1100
                },
                keyboard: {
                    'MacBook Air M1': 800, 'MacBook Air M2': 900, 'MacBook Pro 13"': 1000, 'MacBook Pro 14"': 1200, 'MacBook Pro 16"': 1400,
                    'Asus VivoBook': 400, 'Asus ROG': 600, 'Asus TUF': 550,
                    'Lenovo IdeaPad': 350, 'Lenovo ThinkPad': 500, 'Lenovo Legion': 600,
                    'HP Pavilion': 380, 'HP Envy': 520, 'HP Omen': 580,
                    'Dell Inspiron': 400, 'Dell XPS': 600, 'Dell Alienware': 700
                },
                trackpad: {
                    'MacBook Air M1': 500, 'MacBook Air M2': 550, 'MacBook Pro 13"': 600, 'MacBook Pro 14"': 700, 'MacBook Pro 16"': 800,
                    'Asus VivoBook': 250, 'Asus ROG': 350, 'Asus TUF': 320,
                    'Lenovo IdeaPad': 220, 'Lenovo ThinkPad': 300, 'Lenovo Legion': 350,
                    'HP Pavilion': 230, 'HP Envy': 310, 'HP Omen': 340,
                    'Dell Inspiron': 250, 'Dell XPS': 350, 'Dell Alienware': 400
                },
                charger: {
                    'MacBook Air M1': 600, 'MacBook Air M2': 650, 'MacBook Pro 13"': 700, 'MacBook Pro 14"': 800, 'MacBook Pro 16"': 900,
                    'Asus VivoBook': 200, 'Asus ROG': 350, 'Asus TUF': 300,
                    'Lenovo IdeaPad': 180, 'Lenovo ThinkPad': 250, 'Lenovo Legion': 350,
                    'HP Pavilion': 190, 'HP Envy': 260, 'HP Omen': 320,
                    'Dell Inspiron': 200, 'Dell XPS': 300, 'Dell Alienware': 400
                }
            },
            pc: {
                monitor: {
                    'iMac 24"': 3500, 'iMac 27"': 4500, 'Mac Mini': 0, 'Mac Studio': 0,
                    'HP All-in-One': 1500, 'Dell All-in-One': 1600, 'Lenovo All-in-One': 1400,
                    'Custom Gaming PC': 1200, 'Office PC Build': 800
                },
                motherboard: {
                    'iMac 24"': 2500, 'iMac 27"': 3000, 'Mac Mini': 1500, 'Mac Studio': 2000,
                    'HP All-in-One': 1200, 'Dell All-in-One': 1300, 'Lenovo All-in-One': 1100,
                    'Custom Gaming PC': 800, 'Office PC Build': 500
                },
                ram: {
                    'iMac 24"': 800, 'iMac 27"': 1000, 'Mac Mini': 600, 'Mac Studio': 1200,
                    'HP All-in-One': 400, 'Dell All-in-One': 450, 'Lenovo All-in-One': 380,
                    'Custom Gaming PC': 350, 'Office PC Build': 250
                },
                ssd: {
                    'iMac 24"': 1000, 'iMac 27"': 1200, 'Mac Mini': 800, 'Mac Studio': 1500,
                    'HP All-in-One': 500, 'Dell All-in-One': 550, 'Lenovo All-in-One': 480,
                    'Custom Gaming PC': 400, 'Office PC Build': 300
                },
                psu: {
                    'iMac 24"': 600, 'iMac 27"': 700, 'Mac Mini': 400, 'Mac Studio': 800,
                    'HP All-in-One': 350, 'Dell All-in-One': 380, 'Lenovo All-in-One': 330,
                    'Custom Gaming PC': 300, 'Office PC Build': 200
                },
                gpu: {
                    'iMac 24"': 2000, 'iMac 27"': 2500, 'Mac Mini': 0, 'Mac Studio': 3000,
                    'HP All-in-One': 1000, 'Dell All-in-One': 1100, 'Lenovo All-in-One': 950,
                    'Custom Gaming PC': 1500, 'Office PC Build': 600
                }
            }
        };

        const gadgetData = {
            iphone: {
                icon: 'üì±',
                models: [
                    '6', '6+', '6s', '6s+', '7', '7+', '8', '8+', 'X', 'XR', 'XS', 'XS Max',
                    '11', '11 Pro', '11 Pro Max', '12 Mini', '12', '12 Pro', '12 Pro Max',
                    '13', '13 Mini', '13 Pro', '13 Pro Max', '14', '14 Plus', '14 Pro', '14 Pro Max',
                    '15', '15 Plus', '15 Pro', '15 Pro Max'
                ],
                spareparts: [
                    { id: 'lcd', name: 'LCD Screen', icon: 'üñ•Ô∏è' },
                    { id: 'baterai', name: 'Baterai', icon: 'üîã' },
                    { id: 'kamera-depan', name: 'Kamera Depan', icon: 'ü§≥' },
                    { id: 'kamera-belakang', name: 'Kamera Belakang', icon: 'üì∑' }
                ]
            },
            android: {
                icon: 'ü§ñ',
                models: [
                    'Samsung S21', 'Samsung S22', 'Samsung S23', 'Samsung S24',
                    'Xiaomi 11', 'Xiaomi 12', 'Xiaomi 13', 'Xiaomi 14',
                    'Oppo Reno 8', 'Oppo Reno 9', 'Oppo Reno 10',
                    'Vivo V25', 'Vivo V27', 'Vivo V29'
                ],
                spareparts: [
                    { id: 'lcd', name: 'LCD Screen', icon: 'üñ•Ô∏è' },
                    { id: 'baterai', name: 'Baterai', icon: 'üîã' },
                    { id: 'kamera-depan', name: 'Kamera Depan', icon: 'ü§≥' },
                    { id: 'kamera-belakang', name: 'Kamera Belakang', icon: 'üì∑' }
                ]
            },
            laptop: {
                icon: 'üíª',
                models: [
                    'MacBook Air M1', 'MacBook Air M2', 'MacBook Pro 13"', 'MacBook Pro 14"', 'MacBook Pro 16"',
                    'Asus VivoBook', 'Asus ROG', 'Asus TUF',
                    'Lenovo IdeaPad', 'Lenovo ThinkPad', 'Lenovo Legion',
                    'HP Pavilion', 'HP Envy', 'HP Omen',
                    'Dell Inspiron', 'Dell XPS', 'Dell Alienware'
                ],
                spareparts: [
                    { id: 'lcd', name: 'LCD Screen', icon: 'üñ•Ô∏è' },
                    { id: 'baterai', name: 'Baterai', icon: 'üîã' },
                    { id: 'keyboard', name: 'Keyboard', icon: '‚å®Ô∏è' },
                    { id: 'trackpad', name: 'Trackpad', icon: 'üñ±Ô∏è' },
                    { id: 'charger', name: 'Charger', icon: 'üîå' }
                ]
            },
            pc: {
                icon: 'üñ•Ô∏è',
                models: [
                    'iMac 24"', 'iMac 27"', 'Mac Mini', 'Mac Studio',
                    'HP All-in-One', 'Dell All-in-One', 'Lenovo All-in-One',
                    'Custom Gaming PC', 'Office PC Build'
                ],
                spareparts: [
                    { id: 'monitor', name: 'Monitor', icon: 'üñ•Ô∏è' },
                    { id: 'motherboard', name: 'Motherboard', icon: 'üî≤' },
                    { id: 'ram', name: 'RAM', icon: 'üíæ' },
                    { id: 'ssd', name: 'SSD/HDD', icon: 'üíø' },
                    { id: 'psu', name: 'Power Supply', icon: '‚ö°' },
                    { id: 'gpu', name: 'GPU', icon: 'üéÆ' }
                ]
            }
        };

        // Event listener untuk gadget cards
        document.querySelectorAll('#gadgetCards .card').forEach(card => {
            card.addEventListener('click', function() {
                const gadgetType = this.getAttribute('data-gadget');
                selectGadget(gadgetType, this);
            });
        });

        function selectGadget(type, cardElement) {
            currentGadget = type;
            
            // Update UI
            document.querySelectorAll('#gadgetCards .card').forEach(c => c.classList.remove('selected'));
            cardElement.classList.add('selected');
            
            // Update steps
            updateStep(2);
            
            // Show sparepart selection
            setTimeout(() => {
                document.getElementById('sparepartSelection').style.display = 'block';
                renderSpareparts(type);
                document.getElementById('sparepartSelection').scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 300);
        }

        function renderSpareparts(type) {
            const container = document.getElementById('sparepartCards');
            container.innerHTML = '';
            
            gadgetData[type].spareparts.forEach(sp => {
                const card = document.createElement('div');
                card.className = 'card';
                card.setAttribute('data-sparepart-id', sp.id);
                card.setAttribute('data-sparepart-name', sp.name);
                card.innerHTML = `
                    <span class="card-icon">${sp.icon}</span>
                    <div class="card-title">${sp.name}</div>
                    <div class="card-desc">Ganti ${sp.name}</div>
                `;
                
                card.addEventListener('click', function() {
                    selectSparepart(sp.id, sp.name, this);
                });
                
                container.appendChild(card);
            });
        }

        function selectSparepart(id, name, cardElement) {
            currentSparepart = { id, name };
            
            // Update UI
            document.querySelectorAll('#sparepartCards .card').forEach(c => c.classList.remove('selected'));
            cardElement.classList.add('selected');
            
            // Update steps
            updateStep(3);
            
            // Show price table
            setTimeout(() => {
                document.getElementById('priceTable').classList.add('active');
                renderPriceTable();
                document.getElementById('priceTable').scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 300);
        }

        function renderPriceTable() {
            const tbody = document.getElementById('priceTableBody');
            tbody.innerHTML = '';
            
            const models = gadgetData[currentGadget].models;
            const icon = gadgetData[currentGadget].icon;
            
            models.forEach((model, idx) => {
                const row = document.createElement('tr');
                row.style.animationDelay = `${idx * 0.05}s`;
                // Get price from database
                const price = priceDatabase[currentGadget]?.[currentSparepart.id]?.[model] || 0;
                
                row.innerHTML = `
                    <td>
                        <div class="model-name">
                            <span class="model-icon">${icon}</span>
                            <span>${model}</span>
                        </div>
                    </td>
                    <td>
                        <input type="text" 
                               class="price-input" 
                               placeholder="${price > 0 ? '' : 'Tidak Tersedia'}"
                               data-model="${model}"
                               id="price-${idx}"
                               value="${price > 0 ? 'Rp ' + (parseInt(price) * 1000).toLocaleString('id-ID') : 'Tidak Tersedia'}"
                               readonly
                               disabled>
                    </td>
                    <td>
                        <button class="wa-btn" data-model="${model}" data-idx="${idx}">
                            <span>üí¨</span> WhatsApp
                        </button>
                    </td>
                `;
                tbody.appendChild(row);
                
                // Input harga hanya untuk display, tidak bisa diubah
                const priceInput = row.querySelector('.price-input');
                // Pastikan input tetap readonly dan disabled
                priceInput.readOnly = true;
                priceInput.disabled = true;
                
                // Event listener untuk button WA
                const waBtn = row.querySelector('.wa-btn');
                waBtn.addEventListener('click', function() {
                    const modelName = this.getAttribute('data-model');
                    const idx = this.getAttribute('data-idx');
                    openModal(modelName, idx);
                });
            });
        }

        function openModal(model, idx) {
            // Ambil harga langsung dari database
            const price = priceDatabase[currentGadget]?.[currentSparepart.id]?.[model] || 0;
            
            if (!price || price === 0) {
                alert('‚ö†Ô∏è Harga untuk model ini belum tersedia!');
                return;
            }

            const gadgetName = currentGadget.charAt(0).toUpperCase() + currentGadget.slice(1);
            document.getElementById('tipeGadget').value = `${gadgetName} ${model}`;
            document.getElementById('kendala').value = currentSparepart.name;
            // Harga di database dalam ribuan, jadi dikalikan 1000 untuk format rupiah penuh
            document.getElementById('biaya').value = `Rp ${(parseInt(price) * 1000).toLocaleString('id-ID')}`;
            document.getElementById('modal').style.display = 'block';
        }

        function updateStep(step) {
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            document.getElementById(`step${step}`).classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').style.display = 'none';
            document.getElementById('orderForm').reset();
        }

        document.getElementById('orderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const nama = document.getElementById('nama').value;
            const alamat = document.getElementById('alamat').value;
            const tipeGadget = document.getElementById('tipeGadget').value;
            const kendala = document.getElementById('kendala').value;
            const biaya = document.getElementById('biaya').value;

            const message = `Halo saya ingin memperbaiki gadget saya

üë§ Nama: ${nama}
üìç Alamat: ${alamat}
üì± Tipe Gadget: ${tipeGadget}
üîß Kendala: ${kendala}
üí∞ Biaya: ${biaya}`;

            const waUrl = `https://wa.me/6288802142498?text=${encodeURIComponent(message)}`;
            window.open(waUrl, '_blank');
            closeModal();
        });

        window.onclick = function(event) {
            const modal = document.getElementById('modal');
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>